"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[228],{9726:(n,e,t)=>{t.d(e,{PR:()=>c,o1:()=>a,x4:()=>s});var r=t(5280);const o="".concat(r.yK,"/credentials"),s=async(n,e)=>{try{const t=await fetch("".concat(o,"/loginuser"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,password:e})});if(!t.ok)throw new Error("Login failed");const r=await t.json();return"success"===r.status?(localStorage.setItem("authtoken",r.data.token),{status:"success",message:"Login successful",name:r.data.name}):{status:"error",message:r.error||"Invalid credentials"}}catch(t){return console.error("Error during login:",t),{status:"error",message:"Something went wrong!"}}},a=async(n,e,t)=>{try{const r=await fetch("".concat(o,"/createuser"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n,email:e,password:t})});if(!r.ok)throw new Error("Account creation failed");const s=await r.json();return"success"===s.status?(localStorage.setItem("authtoken",s.data.authtoken),{status:"success",message:"Account created successfully",name:n}):{status:"error",message:s.error||"Error creating account"}}catch(r){return console.error("Error during account creation:",r),{status:"error",message:"Something went wrong!"}}},c=async()=>{try{const n=await fetch("".concat(o,"/getuser"),{method:"GET",headers:{"Content-Type":"application/json",authtoken:localStorage.getItem("authtoken")}});if(!n.ok)throw new Error("Failed to fetch user");const e=await n.json();return"success"===e.status?{status:"success",message:"User data fetched successfully",name:e.data.name}:{status:"error",message:e.error||"Error fetching user data"}}catch(n){return console.error("Error during user data fetch:",n),{status:"error",message:"Something went wrong!"}}}},5280:(n,e,t)=>{t.d(e,{Ii:()=>c,ON:()=>u,o2:()=>i,yK:()=>r});const r="".concat("","/api"),o=(n,e,t)=>{for(let r=0;r<n.length;r++){if(n[r][e]===t)return!0}return!1},s=(n,e)=>{const t=[];return[...n,...e].forEach((n=>{o(t,"product_id",n.product_id)||t.push(n)})),t},a=(n,e)=>{const t=[];return e.forEach((e=>{o(n,"product_id",e.product_id)||t.push(e)})),t},c=(n,e)=>({union:s(n,e),difference:a(n,e)}),i=(n,e,t)=>{for(let r=0;r<n.length;r++){if(n[r][e]===t)return r}return-1},u=n=>{let e=0;for(let t=0;t<n.length;t++){const r=n[t];e+=r.quantity*r.price}return e}},7228:(n,e,t)=>{t.r(e),t.d(e,{default:()=>h});var r,o=t(168),s=t(2791),a=t(8470),c=t(7689),i=t(1087),u=t(6747),l=t(9726),d=t(184);const g=a.ZP.div(r||(r=(0,o.Z)(["\ndisplay: flex;\nflex-direction: column;\nalign-items: center;\njustify-content: center;\nheight: 100vh;\n\n.logo {\n  width: 100px;\n  object-fit: contain;\n  margin-bottom: 20px;\n}\n.container{\n  background-color:white;\n  padding:20px;\n  border-radius: 10px;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n  max-width: 400px;\n  width: 100%;\n  text-align: center;\n  h1 {\n    font-size: 1.8rem;\n    margin-bottom: 20px;\n  }\n  form {\n    display: flex;\n    flex-direction: column;\n  }\n  h5 {\n    text-align: left;\n    margin: 10px 0;\n  }\n  input {\n    width: 95%;\n    padding: 10px;\n    margin-bottom: 15px;\n    border: 1px solid #ccc;\n    border-radius: 5px;\n    transition: border-color 0.3s ease;\n    &:focus{\n      outline: none;\n      border-color: #007185;\n    }\n  }\n  .signInButton {\n    background-color: #f0c14b;\n    border: 1px solid;\n    border-color: #a88734 #9c7e31 #846a29;\n    color: #111;\n    cursor: pointer;\n    transition: background-color 0.3s ease;\n    &:hover{\n      background-color:#ddb347;\n    }\n  }\n\n  .registerButton {\n    background-color: #111;\n    color: white;\n    cursor: pointer;\n    transition: background-color 0.3s ease;\n    &:hover {\n      background-color: #555;\n    }\n  }\n\n  p {\n    margin-top: 20px;\n    font-size: 0.8rem;\n    color: #555;\n  }\n\n  @media (max-width: 600px) {\n    .container {\n      max-width: 90%;\n    }\n  }\n}\n"]))),h=()=>{var n;const e=(0,c.s0)(),t=(0,c.TH)(),r=localStorage.getItem("authtoken");console.log(null===(n=t.state)||void 0===n?void 0:n.from),(0,s.useEffect)((()=>{r&&e("/")}),[r,e]);const[o,a]=(0,s.useState)(""),[h,m]=(0,s.useState)("");return(0,d.jsxs)(g,{children:[(0,d.jsx)(i.rU,{to:"/",children:(0,d.jsx)("img",{className:"logo",src:u,alt:""})}),(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("h1",{children:"Sign-in"}),(0,d.jsxs)("form",{children:[(0,d.jsx)("h5",{children:"E-mail"}),(0,d.jsx)("input",{type:"text",value:o,required:!0,onChange:n=>{a(n.target.value)},placeholder:"Enter Email"}),(0,d.jsx)("h5",{children:"Password"}),(0,d.jsx)("input",{type:"password",value:h,required:!0,onChange:n=>{m(n.target.value)},placeholder:"Enter Password"}),(0,d.jsx)("button",{className:"signInButton",type:"submit",onClick:async n=>{n.preventDefault();if("success"===(await(0,l.x4)(o,h)).status){var r;const n=(null===(r=t.state)||void 0===r?void 0:r.from)||"/";e(n)}else alert("Something went Wrong ! Please re-try")},disabled:!((n=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n))(o)&&h.length>=8),children:"Sign In"})]}),(0,d.jsx)("p",{children:"By continuing, you agree to Amazon's Conditions of Use and Privacy Notice."}),(0,d.jsx)("button",{className:"registerButton",onClick:n=>{n.preventDefault(),e("/register")},children:"Create your Amazon Account"})]})]})}},6747:(n,e,t)=>{n.exports=t.p+"static/media/bw-amazon-logo.c14905338d156db029d6.png"}}]);
//# sourceMappingURL=228.8efdeac2.chunk.js.map