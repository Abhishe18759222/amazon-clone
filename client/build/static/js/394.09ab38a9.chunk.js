"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[394],{7861:(t,n,e)=>{e.d(n,{$q:()=>d,XF:()=>i,_R:()=>s,dv:()=>a,ts:()=>c});var r=e(5280);const o="".concat(r.yK,"/cart"),a=async()=>{try{const t=await fetch("".concat(o,"/getcart"),{method:"GET",headers:{"Content-Type":"application/json",authtoken:localStorage.getItem("authtoken")}});if(!t.ok)throw new Error("Failed to fetch cart");return await t.json()}catch(t){return console.error("Error during cart data fetch:",t),{status:"error",message:"Something went wrong!"}}},s=async(t,n)=>{try{const e=await fetch("".concat(o,"/postcart"),{method:"POST",headers:{"Content-Type":"application/json",authtoken:localStorage.getItem("authtoken")},body:JSON.stringify({product_id:t,quantity:n})});if(!e.ok)throw new Error("Failed to add item to cart");return"success"===(await e.json()).status?{status:"success",message:"Item added to cart successfully"}:{status:"error",message:"Error adding item to cart"}}catch(e){return console.error("Error during item addition to cart:",e),{status:"error",message:"Something went wrong!"}}},i=async t=>{try{const n=await fetch("".concat(o,"/deletecart"),{method:"DELETE",headers:{"Content-Type":"application/json",authtoken:localStorage.getItem("authtoken")},body:JSON.stringify({product_id:t})});if(!n.ok)throw new Error("Failed to delete item from cart");return"success"===(await n.json()).status?{status:"success",message:"Item deleted from cart successfully"}:{status:"error",message:"Error deleting item from cart"}}catch(n){return console.error("Error during item deletion from cart:",n),{status:"error",message:"Something went wrong!"}}},c=async(t,n)=>{try{const e=await fetch("".concat(o,"/putcart"),{method:"PUT",headers:{"Content-Type":"application/json",authtoken:localStorage.getItem("authtoken")},body:JSON.stringify({product_id:t,quantity:n})});return"success"===(await e.json()).status?{status:"success",message:"Cart item updated successfully"}:{status:"error",message:"Error updating item in cart"}}catch(e){return console.error("Error during cart item update:",e),{status:"error",message:"Something went wrong!"}}},d=async t=>{try{const n=await fetch("".concat(o,"/bulkpostcart"),{method:"POST",headers:{"Content-Type":"application/json",authtoken:localStorage.getItem("authtoken")},body:JSON.stringify({cartItems:t})});if(!n.ok)throw new Error("Failed to merge cart items");return"success"===(await n.json()).status?{status:"success",message:"Cart items merged successfully"}:{status:"error",message:"Error merging cart items"}}catch(n){return console.error("Error during cart item merge:",n),{status:"error",message:"Something went wrong!"}}}},5280:(t,n,e)=>{e.d(n,{Ii:()=>i,ON:()=>d,o2:()=>c,yK:()=>r});const r="".concat("","/api"),o=(t,n,e)=>{for(let r=0;r<t.length;r++){if(t[r][n]===e)return!0}return!1},a=(t,n)=>{const e=[];return[...t,...n].forEach((t=>{o(e,"product_id",t.product_id)||e.push(t)})),e},s=(t,n)=>{const e=[];return n.forEach((n=>{o(t,"product_id",n.product_id)||e.push(n)})),e},i=(t,n)=>({union:a(t,n),difference:s(t,n)}),c=(t,n,e)=>{for(let r=0;r<t.length;r++){if(t[r][n]===e)return r}return-1},d=t=>{let n=0;for(let e=0;e<t.length;e++){const r=t[e];n+=r.quantity*r.price}return n}},8248:(t,n,e)=>{e.d(n,{Z:()=>h});var r,o=e(168),a=e(2791),s=e(8470),i=e(4420),c=e(3892),d=e(7861),l=e(184);const u=s.ZP.div(r||(r=(0,o.Z)(["\n  display: flex;\n  margin-top: 20px;\n  margin-bottom: 20px;\n  align-items: center;\n\n  .image {\n    object-fit: contain;\n    width: 180px;\n    height: 180px;\n    border-radius: 4px;\n  }\n\n  .info {\n    padding-left: 20px;\n\n    .title {\n      font-size: 17px;\n      font-weight: 800;\n      margin-bottom: 5px;\n    }\n\n    .price {\n      font-size: 16px;\n      margin-bottom: 10px;\n\n      small {\n        font-size: 80%;\n      }\n\n      strong {\n        margin-left: 5px;\n      }\n    }\n\n    .quantity {\n      display: flex;\n      flex-direction: column;\n      align-items: left;\n      margin-bottom: 10px;\n\n      label {\n        font-weight: 600;\n        margin-bottom: 5px;\n      }\n\n      select {\n        padding: 5px;\n        border: none;\n        border-radius: 4px;\n        font-size: 16px;\n        width: 55px;\n      }\n    }\n\n    button {\n      background-color: #f0c14b;\n      border: 1px solid;\n      border-color: #a88734 #9c7e31 #846a29;\n      color: #111;\n      cursor: pointer;\n      transition: background-color 0.3s ease;\n\n      &:hover {\n        background-color: #ddb347;\n      }\n    }\n  }\n"]))),h=t=>{const{product_id:n,image:e,title:r,price:o,hideButton:s,quantity:h}=t,[g,m]=(0,a.useState)(h),p=(0,i.I0)(),x=localStorage.getItem("authtoken");(0,a.useEffect)((()=>{(async()=>{x&&await(0,d.ts)(n,g),p((0,c.Vj)({info:{product_id:n,quantity:g}}))})()}),[g]);return(0,l.jsxs)(u,{children:[(0,l.jsx)("img",{src:e,alt:"",className:"image"}),(0,l.jsxs)("div",{className:"info",children:[(0,l.jsx)("p",{className:"title",children:r}),(0,l.jsxs)("p",{className:"price",children:[(0,l.jsx)("small",{children:"$"}),(0,l.jsx)("strong",{children:o})]}),!s&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"quantity",children:[(0,l.jsx)("label",{htmlFor:"quantity",children:"Quantity:"}),(0,l.jsx)("select",{value:g,onChange:t=>{const n=parseInt(t.target.value);m(n)},children:Array.from({length:14},((t,n)=>(0,l.jsx)("option",{value:n+1,children:n+1},n+1)))})]}),(0,l.jsx)("button",{onClick:async t=>{x&&await(0,d.XF)(n,t.target.value),p((0,c.ul)({info:{product_id:n}}))},children:"Remove from Cart"})]})]})]})}},7961:(t,n,e)=>{e.r(n),e.d(n,{default:()=>f});var r,o=e(168),a=e(2791),s=e(8470),i=e(7689),c=e(4420),d=e(5280),l=e(184);const u=s.ZP.div(r||(r=(0,o.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  width: 300px;\n  height: 100px;\n  padding: 20px;\n  background-color: #f3f3f3;\n  border: 1px solid #dddddd;\n  border-radius: 3px;\n  transition: box-shadow 0.3s ease;\n\n  &:hover {\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n  }\n\n  .subtotal__gift {\n    display: flex;\n    align-items: center;\n    input {\n      margin-right: 5px;\n    }\n  }\n\n  button {\n    background-color: #f0c14b;\n    border-radius: 2px;\n    width: 100%;\n    height: 30px;\n    border: 1px solid;\n    margin-top: 10px;\n    border-color: #a88734 #9c7e31 #846a29;\n    color: #111;\n    cursor: pointer;\n    transition: background-color 0.3s ease;\n\n    &:hover {\n      background-color: #ddb347;\n    }\n  }\n\n  @media (max-width: 768px) {\n    width: 100%;\n    margin-top: 10px;\n  }\n"]))),h=()=>{const t=(0,i.s0)(),n=(0,c.v9)((t=>t.cart)),e=(0,c.v9)((t=>t.user)),r=n.length,o=(0,c.v9)((t=>t.address)),[s,h]=(0,a.useState)(0);return(0,a.useEffect)((()=>{h((0,d.ON)(n))}),[n]),(0,l.jsxs)(u,{children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{children:["Subtotal (",r," items):",(0,l.jsx)("strong",{children:s.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2})})]}),(0,l.jsxs)("small",{className:"subtotal__gift",children:[(0,l.jsx)("input",{type:"checkbox"})," This order contains a gift"]})]}),(0,l.jsx)("button",{onClick:()=>{e||t("/login"),o.country?t("/address"):t("/payment")},children:"Proceed to Checkout"})]})};var g=e(8248);const m=e.p+"static/media/checkout_banner.b842b1e4bb0cc75ce652.jpg";var p;const x=s.ZP.div(p||(p=(0,o.Z)(["\n  display: flex;\n  flex-direction: column;\n  padding: 20px;\n  background-color: white;\n  height: max-content;\n\n  @media (min-width: 768px) {\n    flex-direction: row;\n\n    .checkout__left {\n      flex: 2;\n      margin-right: 20px;\n\n      .checkout__ad {\n        width: 100%;\n        margin-bottom: 10px;\n      }\n    }\n\n    .checkout__right {\n      flex: 1;\n    }\n  }\n\n  .checkout__left {\n    .checkout__ad {\n      width: 100%;\n      margin-bottom: 10px;\n    }\n    .checkout__title {\n      margin-right: 10px;\n      padding: 10px;\n      border-bottom: 1px solid lightgray;\n    }\n  }\n"])));const f=function(){const t=(0,c.v9)((t=>t.user)),n=(0,c.v9)((t=>t.cart)),e=n.length;return(0,l.jsxs)(x,{children:[(0,l.jsxs)("div",{className:"checkout__left",children:[(0,l.jsx)("img",{src:m,alt:"",className:"checkout__ad"}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("h3",{children:["Hello, ",null===t||void 0===t?void 0:t.name]}),(0,l.jsx)("h2",{className:"checkout__title",children:"Your Shopping Cart"})]}),e>0?n.map((t=>(0,l.jsx)(g.Z,{product_id:t.product_id,image:t.image,title:t.title,rating:t.rating,price:t.price,quantity:t.quantity},t.product_id))):"Cart is Empty"]}),(0,l.jsxs)("div",{className:"checkout__right",children:[(0,l.jsx)("h2",{children:"Sub total"}),(0,l.jsx)(h,{})]})]})}}}]);
//# sourceMappingURL=394.09ab38a9.chunk.js.map