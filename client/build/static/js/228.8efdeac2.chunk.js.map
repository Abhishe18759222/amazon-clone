{"version":3,"file":"static/js/228.8efdeac2.chunk.js","mappings":"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","sources":["API/user.js","AdditionalFunction.js","Components/Credentials/Login.js"],"sourcesContent":["// API/user.js\nimport { DOMAIN } from \"../AdditionalFunction\";\n\nconst host = `${DOMAIN}/credentials`;\n\nexport const login = async (email, password) => {\n    try {\n        const response = await fetch(`${host}/loginuser`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({ email, password }),\n        });\n\n        if (!response.ok) {\n            throw new Error(\"Login failed\");\n        }\n\n        const data = await response.json();\n        if (data.status === \"success\") {\n            localStorage.setItem(\"authtoken\", data.data.token);\n            return { status: \"success\", message: \"Login successful\", name: data.data.name };\n        } else {\n            return { status: \"error\", message: data.error || \"Invalid credentials\" };\n        }\n    } catch (error) {\n        console.error(\"Error during login:\", error);\n        return { status: \"error\", message: \"Something went wrong!\" };\n    }\n};\n\nexport const createAccount = async (name, email, password) => {\n    try {\n        const response = await fetch(`${host}/createuser`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({ name, email, password }),\n        });\n\n        if (!response.ok) {\n            throw new Error(\"Account creation failed\");\n        }\n\n        const data = await response.json();\n        if (data.status === \"success\") {\n            localStorage.setItem(\"authtoken\", data.data.authtoken);\n            return { status: \"success\", message: \"Account created successfully\", name: name };\n        } else {\n            return { status: \"error\", message: data.error || \"Error creating account\" };\n        }\n    } catch (error) {\n        console.error(\"Error during account creation:\", error);\n        return { status: \"error\", message: \"Something went wrong!\" };\n    }\n};\n\nexport const getUser = async () => {\n    try {\n        const response = await fetch(`${host}/getuser`, {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"authtoken\": localStorage.getItem(\"authtoken\"),\n            },\n        });\n\n        if (!response.ok) {\n            throw new Error(\"Failed to fetch user\");\n        }\n\n        const data = await response.json();\n        if (data.status === \"success\") {\n            return { status: \"success\", message: \"User data fetched successfully\", name: data.data.name };\n        } else {\n            return { status: \"error\", message: data.error || \"Error fetching user data\" };\n        }\n    } catch (error) {\n        console.error(\"Error during user data fetch:\", error);\n        return { status: \"error\", message: \"Something went wrong!\" };\n    }\n};\n\nexport const logout = async () => {\n    try {\n        localStorage.removeItem(\"authtoken\");\n\n        return { status: \"success\", message: \"Logout successful\" };\n    } catch (error) {\n        console.error(\"Error during logout:\", error);\n        return { status: \"error\", message: \"Something went wrong!\" };\n    }\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","const host = \"\"\nconst DOMAIN = `${host}/api`\nconst findInObjectArray = (arr, key, value) => {\n    for (let i = 0; i < arr.length; i++) {\n        const element = arr[i];\n        if (element[key] === value) {\n            return true\n        }\n    }\n    return false\n}\nconst union = (databaseCart, reduxCart) => {\n    const arr = [];\n    [...databaseCart, ...reduxCart].forEach((item) => {\n        if (!findInObjectArray(arr, \"product_id\", item.product_id)) {\n            arr.push(item);\n        }\n    })\n    return arr;\n}\nconst difference = (databaseCart, reduxCart) => {\n    const arr = [];\n    reduxCart.forEach((item) => {\n        if (!findInObjectArray(databaseCart, \"product_id\", item.product_id)) {\n            arr.push(item);\n        }\n    })\n    return arr;\n}\n\nconst mergeCart = (databaseCart, reduxCart) => {\n    return { union: union(databaseCart, reduxCart), difference: difference(databaseCart, reduxCart) };\n}\n\n\nconst findIndexof = (cart,key, value) => {\n    for (let i = 0; i < cart.length; i++) {\n        const element = cart[i];\n        if (element[key] === value) {\n            return i;\n        }\n    }\n    return -1;\n};\n\nconst shuffleArray = (array) => {\n    for (let i = array.length - 1; i > 0; i--) {\n        const j = Math.floor(Math.random() * (i + 1));\n        [array[i], array[j]] = [array[j], array[i]];\n    }\n    return array;\n}\n\n\nconst FinalBalance=cart=>{\n    let total = 0;\n    for (let i = 0; i < cart.length; i++) {\n      const item = cart[i];\n      total = total+item.quantity*item.price;\n    }\n    return total;\n  };\n\n\nexport { DOMAIN, findInObjectArray, union, difference, mergeCart, findIndexof , shuffleArray, FinalBalance}","import React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\n\nimport logo from \"../Logo/bw-amazon-logo.png\";\nimport { login } from \"../../API/user\";\n\nconst Div = styled.div`\ndisplay: flex;\nflex-direction: column;\nalign-items: center;\njustify-content: center;\nheight: 100vh;\n\n.logo {\n  width: 100px;\n  object-fit: contain;\n  margin-bottom: 20px;\n}\n.container{\n  background-color:white;\n  padding:20px;\n  border-radius: 10px;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n  max-width: 400px;\n  width: 100%;\n  text-align: center;\n  h1 {\n    font-size: 1.8rem;\n    margin-bottom: 20px;\n  }\n  form {\n    display: flex;\n    flex-direction: column;\n  }\n  h5 {\n    text-align: left;\n    margin: 10px 0;\n  }\n  input {\n    width: 95%;\n    padding: 10px;\n    margin-bottom: 15px;\n    border: 1px solid #ccc;\n    border-radius: 5px;\n    transition: border-color 0.3s ease;\n    &:focus{\n      outline: none;\n      border-color: #007185;\n    }\n  }\n  .signInButton {\n    background-color: #f0c14b;\n    border: 1px solid;\n    border-color: #a88734 #9c7e31 #846a29;\n    color: #111;\n    cursor: pointer;\n    transition: background-color 0.3s ease;\n    &:hover{\n      background-color:#ddb347;\n    }\n  }\n\n  .registerButton {\n    background-color: #111;\n    color: white;\n    cursor: pointer;\n    transition: background-color 0.3s ease;\n    &:hover {\n      background-color: #555;\n    }\n  }\n\n  p {\n    margin-top: 20px;\n    font-size: 0.8rem;\n    color: #555;\n  }\n\n  @media (max-width: 600px) {\n    .container {\n      max-width: 90%;\n    }\n  }\n}\n`;\nconst Login = () => {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const isLoggined = localStorage.getItem(\"authtoken\")\n  console.log(location.state?.from);\n  useEffect(() => {\n    if (isLoggined) {\n      navigate(\"/\");\n    }\n  }, [isLoggined, navigate])\n\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n\n  const signIn = async (e) => {\n    e.preventDefault();\n    const responce = await login(email, password)\n    if (responce.status === \"success\") {\n      const lastPath = location.state?.from || \"/\";\n      navigate(lastPath);\n    }\n    else {\n      alert(\"Something went Wrong ! Please re-try\")\n    }\n  };\n\n  const register = (e) => {\n    e.preventDefault();\n    navigate(\"/register\");\n  };\n  const validateEmail = (email) => {\n    // Regular expression pattern for basic email validation\n    const pattern = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    return pattern.test(email);\n  };\n  return (\n    <Div>\n      <Link to=\"/\">\n        <img className=\"logo\" src={logo} alt=\"\" />\n      </Link>\n      <div className=\"container\">\n        <h1>Sign-in</h1>\n        <form>\n          <h5>E-mail</h5>\n          <input\n            type=\"text\"\n            value={email}\n            required\n            onChange={(e) => {\n              setEmail(e.target.value);\n            }}\n            placeholder=\"Enter Email\"\n          />\n\n          <h5>Password</h5>\n          <input\n            type=\"password\"\n            value={password}\n            required\n            onChange={(e) => {\n              setPassword(e.target.value);\n            }}\n            placeholder=\"Enter Password\"\n          />\n\n          <button\n            className=\"signInButton\"\n            type=\"submit\"\n            onClick={signIn}\n            disabled={\n              validateEmail(email) && password.length >= 8 ? false : true\n            }\n          >\n            Sign In\n          </button>\n        </form>\n        <p>\n          By continuing, you agree to Amazon's Conditions of Use and Privacy\n          Notice.\n        </p>\n        <button className=\"registerButton\" onClick={register}>\n          Create your Amazon Account\n        </button>\n      </div>\n    </Div>\n  );\n};\n\nexport default Login;"],"names":["host","concat","DOMAIN","login","async","email","password","response","fetch","method","headers","body","JSON","stringify","ok","Error","data","json","status","localStorage","setItem","token","message","name","error","console","createAccount","authtoken","getUser","getItem","findInObjectArray","arr","key","value","i","length","union","databaseCart","reduxCart","forEach","item","product_id","push","difference","mergeCart","findIndexof","cart","FinalBalance","total","quantity","price","Div","styled","div","_templateObject","_taggedTemplateLiteral","Login","_location$state","navigate","useNavigate","location","useLocation","isLoggined","log","state","from","useEffect","setEmail","useState","setPassword","_jsxs","children","_jsx","Link","to","className","src","logo","alt","type","required","onChange","e","target","placeholder","onClick","preventDefault","_location$state2","lastPath","alert","disabled","test","validateEmail"],"sourceRoot":""}