"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[776],{3336:(r,e,t)=>{t.d(e,{Yi:()=>c,co:()=>a,mv:()=>d});var n=t(5280);const o="".concat(n.yK,"/order"),a=async()=>{try{const r=await fetch("".concat(o,"/getorder"),{method:"GET",headers:{"Content-Type":"application/json",authtoken:localStorage.getItem("authtoken")}});if(!r.ok)throw new Error("Failed to fetch order data");return(await r.json()).data}catch(r){return console.error("Error during order data fetch:",r),{status:"error",message:"Something went wrong!"}}},d=async()=>{try{const r=await fetch("".concat(o,"/postorder"),{method:"POST",headers:{"Content-Type":"application/json",authtoken:localStorage.getItem("authtoken")}});if(!r.ok)throw new Error("Failed to create a new order");const e=await r.json();return"success"===e.status?{status:"success",message:"New order created successfully",orderId:e.orderId}:{status:"error",message:"Error creating a new order"}}catch(r){return console.error("Error during new order creation:",r),{status:"error",message:"Something went wrong!"}}},c=async r=>{try{const e=await fetch("".concat(o,"/orderbyid/").concat(r),{method:"GET",headers:{"Content-Type":"application/json",authtoken:localStorage.getItem("authtoken")}});if(!e.ok)throw new Error("Failed to fetch order data");return(await e.json()).data}catch(e){return console.error("Error during order data fetch:",e),{status:"error",message:"Something went wrong!"}}}},5280:(r,e,t)=>{t.d(e,{Ii:()=>c,ON:()=>s,o2:()=>i,yK:()=>n});const n="".concat("","/api"),o=(r,e,t)=>{for(let n=0;n<r.length;n++){if(r[n][e]===t)return!0}return!1},a=(r,e)=>{const t=[];return[...r,...e].forEach((r=>{o(t,"product_id",r.product_id)||t.push(r)})),t},d=(r,e)=>{const t=[];return e.forEach((e=>{o(r,"product_id",e.product_id)||t.push(e)})),t},c=(r,e)=>({union:a(r,e),difference:d(r,e)}),i=(r,e,t)=>{for(let n=0;n<r.length;n++){if(r[n][e]===t)return n}return-1},s=r=>{let e=0;for(let t=0;t<r.length;t++){const n=r[t];e+=n.quantity*n.price}return e}},7776:(r,e,t)=>{t.r(e),t.d(e,{default:()=>k});var n,o,a,d,c,i,s=t(168),h=t(2791),u=t(1087),l=t(3336),g=t(8470),p=t(184);const f=g.ZP.div(n||(n=(0,s.Z)(["\n  max-width: 800px;\n  margin: 0 auto;\n  padding: 20px;\n"]))),m=g.ZP.ul(o||(o=(0,s.Z)(["\n  list-style-type: none;\n  padding: 0;\n"]))),w=g.ZP.li(a||(a=(0,s.Z)(["\n  margin-bottom: 20px;\n  border: 1px solid #ddd;\n  border-radius: 8px;\n  padding: 10px;\n  display: flex;\n  align-items: center;\n"]))),x=(0,g.ZP)(u.rU)(d||(d=(0,s.Z)(["\n  text-decoration: none;\n  color: #333;\n  font-weight: bold;\n  flex: 1;\n"]))),y=g.ZP.div(c||(c=(0,s.Z)(["\n  width: 50px;\n  height: 50px;\n  margin-right: 10px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  overflow: hidden;\n  flex-shrink: 0;\n"]))),j=g.ZP.div(i||(i=(0,s.Z)(["\n  width: 50px;\n  height: 50px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-left: auto;\n  background-color: #fff;\n"]))),k=()=>{const[r,e]=(0,h.useState)([]);return(0,h.useEffect)((()=>{(async()=>{const r=await(async()=>await(0,l.co)())();e(r)})()}),[]),(0,p.jsxs)(f,{children:[(0,p.jsx)("h2",{children:"Your Order History"}),0===r.length?(0,p.jsx)("p",{children:"No orders found."}):(0,p.jsx)(m,{children:r.map((r=>{return(0,p.jsxs)(w,{children:[(0,p.jsx)(x,{to:"/order/".concat(r.order_id),children:"Order #".concat(r.order_id," - ").concat((e=r.date,new Date(e).toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric",hour:"numeric",minute:"numeric"})))}),r.order_item.slice(0,3).map(((r,e)=>(0,p.jsx)(y,{children:(0,p.jsx)("img",{src:r.image,alt:"Product ".concat(e+1),style:{width:"100%",height:"100%"}})},r.product_id))),r.order_item.length>3&&(0,p.jsxs)(j,{children:["+",r.order_item.length-3]})]},r.order_id);var e}))})]})}}}]);
//# sourceMappingURL=776.69fe7346.chunk.js.map