{"version":3,"file":"static/js/207.ef22246b.chunk.js","mappings":"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","sources":["API/cart.js","API/order.js","AdditionalFunction.js","Components/Checkout/CartItem.js","Components/Payment/Payment.js"],"sourcesContent":["// API/cart.js\nimport { DOMAIN } from \"../AdditionalFunction\";\n\nconst host = `${DOMAIN}/cart`;\n\nexport const getCart = async () => {\n  try {\n    const response = await fetch(`${host}/getcart`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        authtoken: localStorage.getItem(\"authtoken\"),\n      },\n    });\n\n    if (!response.ok) {\n      throw new Error(\"Failed to fetch cart\");\n    }\n\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error(\"Error during cart data fetch:\", error);\n    return { status: \"error\", message: \"Something went wrong!\" };\n  }\n};\n\nexport const postCart = async (product_id,quantity) => {\n  try {\n    const response = await fetch(`${host}/postcart`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        authtoken: localStorage.getItem(\"authtoken\"),\n      },\n      body: JSON.stringify({product_id,quantity}),\n    });\n\n    if (!response.ok) {\n      throw new Error(\"Failed to add item to cart\");\n    }\n\n    const data = await response.json();\n    if (data.status === \"success\") {\n      return { status: \"success\", message: \"Item added to cart successfully\" };\n    }\n\n    return { status: \"error\", message: \"Error adding item to cart\" };\n  } catch (error) {\n    console.error(\"Error during item addition to cart:\", error);\n    return { status: \"error\", message: \"Something went wrong!\" };\n  }\n};\n\nexport const deletecart = async (product_id) => {\n  try {\n    const response = await fetch(`${host}/deletecart`, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        authtoken: localStorage.getItem(\"authtoken\"),\n      },\n      body: JSON.stringify({ product_id }),\n    });\n\n    if (!response.ok) {\n      throw new Error(\"Failed to delete item from cart\");\n    }\n\n    const data = await response.json();\n    if (data.status === \"success\") {\n      return { status: \"success\", message: \"Item deleted from cart successfully\" };\n    }\n\n    return { status: \"error\", message: \"Error deleting item from cart\" };\n  } catch (error) {\n    console.error(\"Error during item deletion from cart:\", error);\n    return { status: \"error\", message: \"Something went wrong!\" };\n  }\n};\n\nexport const putCart = async (product_id, quantity) => {\n  try {\n    const response = await fetch(`${host}/putcart`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        authtoken: localStorage.getItem(\"authtoken\"),\n      },\n      body: JSON.stringify({ product_id, quantity }),\n    });\n\n\n    const data = await response.json();\n    if (data.status === \"success\") {\n      return { status: \"success\", message: \"Cart item updated successfully\" };\n    }\n    \n    return { status: \"error\", message: \"Error updating item in cart\" };\n  } catch (error) {\n    console.error(\"Error during cart item update:\", error);\n    return { status: \"error\", message: \"Something went wrong!\" };\n  }\n};\n\nexport const bulkPostCart = async (cartList) => {\n  try {\n    const response = await fetch(`${host}/bulkpostcart`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        authtoken: localStorage.getItem(\"authtoken\"),\n      },\n      body: JSON.stringify({ cartItems: cartList }),\n    });\n\n    if (!response.ok) {\n      throw new Error(\"Failed to merge cart items\");\n    }\n\n    const data = await response.json();\n    if (data.status === \"success\") {\n      return { status: \"success\", message: \"Cart items merged successfully\" };\n    }\n\n    return { status: \"error\", message: \"Error merging cart items\" };\n  } catch (error) {\n    console.error(\"Error during cart item merge:\", error);\n    return { status: \"error\", message: \"Something went wrong!\" };\n  }\n};","// API/order.js\nimport { DOMAIN } from \"../AdditionalFunction\";\n\nconst host = `${DOMAIN}/order`;\n\nexport const getOrder = async () => {\n  try {\n    const response = await fetch(`${host}/getorder`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        authtoken: localStorage.getItem(\"authtoken\"),\n      },\n    });\n\n    if (!response.ok) {\n      throw new Error(\"Failed to fetch order data\");\n    }\n    const data = await response.json();\n    return data.data;\n  } catch (error) {\n    console.error(\"Error during order data fetch:\", error);\n    return { status: \"error\", message: \"Something went wrong!\" };\n  }\n};\n\nexport const postOrder = async () => {\n  try {\n    const response = await fetch(`${host}/postorder`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        authtoken: localStorage.getItem(\"authtoken\"),\n      }\n    });\n\n    if (!response.ok) {\n      throw new Error(\"Failed to create a new order\");\n    }\n\n    const data = await response.json();\n    if (data.status === \"success\") {\n      return { status: \"success\", message: \"New order created successfully\", orderId:data.orderId };\n    }\n\n    return { status: \"error\", message: \"Error creating a new order\" };\n  } catch (error) {\n    console.error(\"Error during new order creation:\", error);\n    return { status: \"error\", message: \"Something went wrong!\" };\n  }\n};\n\n\nexport const orderbyId = async(orderId)=>{\n  try {\n    const response = await fetch(`${host}/orderbyid/${orderId}`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        authtoken: localStorage.getItem(\"authtoken\"),\n      },\n    });\n\n    if (!response.ok) {\n      throw new Error(\"Failed to fetch order data\");\n    }\n\n    const data = await response.json();\n    return data.data;\n  } catch (error) {\n    console.error(\"Error during order data fetch:\", error);\n    return { status: \"error\", message: \"Something went wrong!\" };\n  }\n}","const host = \"\"\nconst DOMAIN = `${host}/api`\nconst findInObjectArray = (arr, key, value) => {\n    for (let i = 0; i < arr.length; i++) {\n        const element = arr[i];\n        if (element[key] === value) {\n            return true\n        }\n    }\n    return false\n}\nconst union = (databaseCart, reduxCart) => {\n    const arr = [];\n    [...databaseCart, ...reduxCart].forEach((item) => {\n        if (!findInObjectArray(arr, \"product_id\", item.product_id)) {\n            arr.push(item);\n        }\n    })\n    return arr;\n}\nconst difference = (databaseCart, reduxCart) => {\n    const arr = [];\n    reduxCart.forEach((item) => {\n        if (!findInObjectArray(databaseCart, \"product_id\", item.product_id)) {\n            arr.push(item);\n        }\n    })\n    return arr;\n}\n\nconst mergeCart = (databaseCart, reduxCart) => {\n    return { union: union(databaseCart, reduxCart), difference: difference(databaseCart, reduxCart) };\n}\n\n\nconst findIndexof = (cart,key, value) => {\n    for (let i = 0; i < cart.length; i++) {\n        const element = cart[i];\n        if (element[key] === value) {\n            return i;\n        }\n    }\n    return -1;\n};\n\nconst shuffleArray = (array) => {\n    for (let i = array.length - 1; i > 0; i--) {\n        const j = Math.floor(Math.random() * (i + 1));\n        [array[i], array[j]] = [array[j], array[i]];\n    }\n    return array;\n}\n\n\nconst FinalBalance=cart=>{\n    let total = 0;\n    for (let i = 0; i < cart.length; i++) {\n      const item = cart[i];\n      total = total+item.quantity*item.price;\n    }\n    return total;\n  };\n\n\nexport { DOMAIN, findInObjectArray, union, difference, mergeCart, findIndexof , shuffleArray, FinalBalance}","import React, { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { deleteToCart, updateToCart } from \"../../Redux/Slice/cartSlice\";\r\nimport { deletecart, putCart } from \"../../API/cart\";\r\n\r\nconst Div = styled.div`\r\n  display: flex;\r\n  margin-top: 20px;\r\n  margin-bottom: 20px;\r\n  align-items: center;\r\n\r\n  .image {\r\n    object-fit: contain;\r\n    width: 180px;\r\n    height: 180px;\r\n    border-radius: 4px;\r\n  }\r\n\r\n  .info {\r\n    padding-left: 20px;\r\n\r\n    .title {\r\n      font-size: 17px;\r\n      font-weight: 800;\r\n      margin-bottom: 5px;\r\n    }\r\n\r\n    .price {\r\n      font-size: 16px;\r\n      margin-bottom: 10px;\r\n\r\n      small {\r\n        font-size: 80%;\r\n      }\r\n\r\n      strong {\r\n        margin-left: 5px;\r\n      }\r\n    }\r\n\r\n    .quantity {\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: left;\r\n      margin-bottom: 10px;\r\n\r\n      label {\r\n        font-weight: 600;\r\n        margin-bottom: 5px;\r\n      }\r\n\r\n      select {\r\n        padding: 5px;\r\n        border: none;\r\n        border-radius: 4px;\r\n        font-size: 16px;\r\n        width: 55px;\r\n      }\r\n    }\r\n\r\n    button {\r\n      background-color: #f0c14b;\r\n      border: 1px solid;\r\n      border-color: #a88734 #9c7e31 #846a29;\r\n      color: #111;\r\n      cursor: pointer;\r\n      transition: background-color 0.3s ease;\r\n\r\n      &:hover {\r\n        background-color: #ddb347;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst CartItem = (props) => {\r\n  const { product_id, image, title, price, hideButton, quantity } = props;\r\n  const [selectedQuantity, setSelectedQuantity] = useState(quantity);\r\n\r\n  const dispatch = useDispatch();\r\n  const user = localStorage.getItem(\"authtoken\");\r\n\r\n  useEffect(() => {\r\n    const updateCart = async () => {\r\n      if (user) {\r\n        await putCart(product_id, selectedQuantity);\r\n      }\r\n      dispatch(\r\n        updateToCart({ info: { product_id, quantity: selectedQuantity } })\r\n      );\r\n    };\r\n\r\n    updateCart();\r\n    // eslint-disable-next-line\r\n  }, [selectedQuantity]);\r\n\r\n  const update = (e) => {\r\n    const updatedValue = parseInt(e.target.value);\r\n    setSelectedQuantity(updatedValue);\r\n  };\r\n\r\n  const remove = async (e) => {\r\n    if (user) {\r\n      await deletecart(product_id, e.target.value);\r\n    }\r\n    dispatch(deleteToCart({ info: { product_id } }));\r\n  };\r\n\r\n  return (\r\n    <Div>\r\n      <img src={image} alt=\"\" className=\"image\" />\r\n      <div className=\"info\">\r\n        <p className=\"title\">{title}</p>\r\n        <p className=\"price\">\r\n          <small>$</small>\r\n          <strong>{price}</strong>\r\n        </p>\r\n        {!hideButton && (\r\n          <>\r\n            <div className=\"quantity\">\r\n              <label htmlFor=\"quantity\">Quantity:</label>\r\n              <select value={selectedQuantity} onChange={update}>\r\n                {Array.from({ length: 14 }, (_, i) => (\r\n                  <option key={i + 1} value={i + 1}>\r\n                    {i + 1}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n            <button onClick={remove}>Remove from Cart</button>\r\n          </>\r\n        )}\r\n      </div>\r\n    </Div>\r\n  );\r\n};\r\n\r\nexport default CartItem;\r\n","import React, { useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport CartItem from \"../Checkout/CartItem\";\r\nimport { FinalBalance as totalAmount } from \"../../AdditionalFunction\";\r\nimport { postOrder } from \"../../API/order\";\r\nimport { resetCart } from \"../../Redux/Slice/cartSlice\";\r\nconst Div = styled.div`\r\n  background-color: white;\r\n\r\n  .container {\r\n    h1 {\r\n      text-align: center;\r\n      padding: 10px;\r\n      font-weight: 400;\r\n      background-color: rgb(234, 237, 237);\r\n      border-bottom: 1px solid lightgray;\r\n      a {\r\n        text-decoration: none;\r\n        color: black;\r\n      }\r\n    }\r\n    .section {\r\n      display: flex;\r\n      padding: 20px;\r\n      margin: 0 20px;\r\n      border-bottom: 1px solid lightgray;\r\n\r\n      .title {\r\n        flex: 0.2;\r\n      }\r\n\r\n      .address,\r\n      .items,\r\n      .details {\r\n        flex: 0.8;\r\n      }\r\n      .details {\r\n        h3 {\r\n          padding-bottom: 21px;\r\n        }\r\n        form > div > button {\r\n          background: #f0c14b;\r\n          border-radius: 2px;\r\n          width: 100%;\r\n          height: 30px;\r\n          border: 1px solid;\r\n          font-weight: bolder;\r\n          margin-top: 10px;\r\n          border-color: #a88734 #9c7e31 #846a29;\r\n          color: #111;\r\n          max-width: 222px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\nconst Payment = () => {\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n  const user = localStorage.getItem(\"authtoken\");\r\n  useEffect(() => {\r\n    if (!user) {\r\n      navigate(\"/\");\r\n    }\r\n  }, [user, navigate])\r\n  const cart = useSelector((state) => state.cart);\r\n  const count = cart.length;\r\n  const address = useSelector((state) => state.address);\r\n  const orderTotal = totalAmount(cart);\r\n  const formattedOrderTotal = new Intl.NumberFormat(\"en-US\", {\r\n    style: \"currency\",\r\n    currency: \"USD\",\r\n  }).format(orderTotal);\r\n  const orderHandler = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const response = await postOrder(cart);\r\n      const orderId = response.orderId;\r\n      if (orderId) {\r\n        console.log(orderId)\r\n        dispatch(resetCart());\r\n        navigate(`/order/${orderId}`);\r\n      } else {\r\n        // Handle the case where orderId is not present in the response\r\n        console.error('Order ID not found in the response.');\r\n        // You may add additional error handling or redirect the user to an error page.\r\n      }\r\n    } catch (error) {\r\n      console.error('Error placing the order:', error);\r\n      // Handle the error, you may redirect the user to an error page.\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Div>\r\n      <div className=\"container\">\r\n        <h1>\r\n          Checkout (<Link to=\"/checkout\">{count} items</Link>)\r\n        </h1>\r\n        {/* Payment Section - delivery address */}\r\n        <div className=\"section\">\r\n          <div className=\"title\">\r\n            <h3>Delivery Address</h3>\r\n          </div>\r\n          <div className=\"address\">\r\n            <p>{address.fullName}</p>\r\n            <p>{address.Address[0]}</p>\r\n            <p>{address.Address[1]}</p>\r\n            <p>{`${address.city},${address.state}`}\r\n            </p>\r\n            <p>\r\n              {`${address.Country},${address.zipCode}`}\r\n            </p>\r\n            <p>Phone : {address.phoneNumber}</p>\r\n          </div>\r\n        </div>\r\n        {/* Payment Section - Review Items */}\r\n        <div className=\"section\">\r\n          <div className=\"title\">\r\n            <h3>Review items and delivery</h3>\r\n          </div>\r\n          <div className=\"items\">\r\n            {cart?.map((item) => (\r\n              <CartItem\r\n                key={item.product_id}\r\n                id={item.product_id}\r\n                title={item.title}\r\n                image={item.image}\r\n                price={item.price}\r\n                rating={item.rating}\r\n                quantity={item.quantity}\r\n                hideButton = {true}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Payment Section - Payment Method */}\r\n        <div className=\"section\">\r\n          <div className=\"title\">\r\n            <h3>Payment Method</h3>\r\n          </div>\r\n          <div className=\"details\">\r\n            <form>\r\n              <div className=\"priceContainer\">\r\n                <h3>Order Total: {formattedOrderTotal}</h3>\r\n                <button onClick={orderHandler}>\r\n                  <span>Buy Now</span>\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Div>\r\n  );\r\n};\r\n\r\nexport default Payment;\r\n"],"names":["host","concat","DOMAIN","getCart","async","response","fetch","method","headers","authtoken","localStorage","getItem","ok","Error","json","error","console","status","message","postCart","product_id","quantity","body","JSON","stringify","deletecart","putCart","bulkPostCart","cartItems","cartList","getOrder","data","postOrder","orderId","orderbyId","findInObjectArray","arr","key","value","i","length","union","databaseCart","reduxCart","forEach","item","push","difference","mergeCart","findIndexof","cart","FinalBalance","total","price","Div","styled","div","_templateObject","_taggedTemplateLiteral","props","image","title","hideButton","selectedQuantity","setSelectedQuantity","useState","dispatch","useDispatch","user","useEffect","updateToCart","info","updateCart","_jsxs","children","_jsx","src","alt","className","_Fragment","htmlFor","onChange","e","updatedValue","parseInt","target","Array","from","_","onClick","deleteToCart","Payment","navigate","useNavigate","useSelector","state","count","address","orderTotal","totalAmount","formattedOrderTotal","Intl","NumberFormat","style","currency","format","Link","to","fullName","Address","city","Country","zipCode","phoneNumber","map","CartItem","id","rating","preventDefault","log","resetCart"],"sourceRoot":""}